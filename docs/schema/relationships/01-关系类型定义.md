# 制药行业知识图谱 - 关系类型定义

## 关系命名规范

### 命名原则
1. 使用`动词_名词`形式：`treats_disease`, `inhibits_target`
2. 避免歧义：`has_effect` → `increases_expression` / `decreases_expression`
3. 明确方向性：从主体到客体
4. 使用标准谓词：优先采用Biolink Model等标准本体的谓词

### 关系属性
每个关系包含以下标准属性：
- `source`: 数据来源
- `confidence`: 置信度 (0-1)
- `evidence_type`: 证据类型
- `timestamp`: 时间戳

---

## 一、研究实体关系 (R&D)

### 1.1 药物-靶点关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `binds_to` | 药物结合靶点 | Chemical → Target | 否 | Aspirin binds_to COX-1 |
| `inhibits` | 药物抑制靶点 | Chemical → Target | 否 | Ibuprofen inhibits COX-2 |
| `activates` | 药物激活靶点 | Chemical → Target | 否 | Insulin activates INSR |
| `regulates` | 药物调节靶点活性 | Chemical → Target | 否 | Prednisone regulates NF-kB |
| `antagonizes` | 药物拮抗靶点 | Chemical → Target | 否 | Propranolol antagonizes ADRB1 |
| `agonizes` | 药物激动靶点 | Chemical → Target | 否 | Salbutamol agonizes ADRB2 |

---

### 1.2 靶点-通路关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `participates_in` | 靶点参与通路 | Target → Pathway | 否 | EGFR participates_in MAPK_pathway |
| `regulates_pathway` | 靶点调节通路 | Target → Pathway | 是 | p53 regulates_pathway Apoptosis |
| `upstream_of` | 靶点位于通路上游 | Target → Pathway | 是 | RAF1 upstream_of MAPK_pathway |

---

### 1.3 药物-疾病关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `treats` | 药物治疗疾病 | Chemical → Disease | 否 | Aspirin treats Headache |
| `prevents` | 药物预防疾病 | Chemical → Disease | 否 | Vaccines prevents Influenza |
| `causes` | 药物导致疾病/副作用 | Chemical → Disease | 否 | Statins causes Myopathy |
| `contraindicates` | 药物禁忌疾病 | Chemical → Disease | 否 | Warfarin contraindicates Bleeding_disorder |
| `investigated_for` | 药物被研究用于疾病 | Chemical → Disease | 否 | Drug_X investigated_for Alzheimer |

---

### 1.4 实验关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `tested_in` | 化合物在实验中测试 | Chemical → Assay | 否 | Compound_X tested_in viability_assay |
| `assesses` | 实验评估靶点 | Assay → Target | 否 | Binding_assay assesses EGFR |
| `measures` | 实验测量指标 | Assay → String | 否 | Assay measures IC50 |

---

## 二、临床实体关系

### 2.1 临床试验关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `investigates` | 试验研究疾病 | ClinicalTrial → Disease | 否 | NCT123 investigates Diabetes |
| `tests` | 试验测试药物 | ClinicalTrial → Chemical | 否 | NCT123 tests Drug_X |
| `has_phase` | 试验的分期 | ClinicalTrial → String | 否 | NCT123 has_phase "Phase II" |
| `enrolls` | 试验招募患者 | ClinicalTrial → Patient | 否 | NCT123 enrolls Patient_01 |
| `has_outcome` | 试验有结局指标 | ClinicalTrial → Outcome | 否 | NCT123 has_outcome Survival_rate |
| `conducted_at` | 试验进行地点 | ClinicalTrial → Facility | 否 | NCT123 conducted_at Site_A |

---

### 2.2 患者关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `has_disease` | 患者患有疾病 | Patient → Disease | 否 | Patient_01 has_disease Diabetes |
| `received` | 患者接受干预 | Patient → Intervention | 否 | Patient_01 received Drug_X |
| `experienced` | 患者经历事件 | Patient → AdverseEvent | 否 | Patient_01 experienced Nausea |

---

### 2.3 干预措施关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `contains` | 干预包含药物 | Intervention → Chemical | 否 | Treatment_A contains Aspirin |
| `compares_to` | 干预比较对照 | Intervention → Intervention | 否 | Drug_X compares_to Placebo |

---

## 三、生产实体关系

### 3.1 制造关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `manufactures` | 制造商生产药物 | Manufacturer → Chemical | 否 | Pfizer manufactures Viagra |
| `produces_api` | 制造商生产API | Manufacturer → API | 否 | Supplier_X produces_api Paracetamol |
| `operates` | 制造商运营设施 | Manufacturer → Facility | 否 | Pfizer operates New_Jersey_facility |
| `supplies_to` | 供应商供货给制造商 | Supplier → Manufacturer | 否 | Supplier_X supplies_to Pfizer |

---

### 3.2 供应链关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `distributes` | 分销商分销药物 | Distribution → Chemical | 否 | Distributor_X distributes Drug_Y |
| `has_inventory` | 地点有库存 | Facility → Inventory | 否 | Warehouse_A has_inventory Stock_01 |
| `experiences_shortage` | 药物经历短缺 | Chemical → Shortage | 否 | Drug_X experiences_shortage Shortage_2023 |
| `causes_shortage` | 事件导致短缺 | String → Shortage | 否 | Manufacturing_delay causes_shortage Shortage_01 |
| `resolved_by` | 短缺被解决 | Shortage → String | 否 | Shortage_01 resolved_by Alternative_supplier |

---

## 四、监管实体关系

### 4.1 申报与审批关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `submits` | 企业提交申报 | Manufacturer → Submission | 否 | Pfizer submits NDA_123 |
| `submits_for` | 申报针对药物 | Submission → Chemical | 否 | NDA_123 submits_for Drug_X |
| `reviews` | 机构审评申报 | RegulatoryAgency → Submission | 否 | FDA reviews NDA_123 |
| `approves` | 机构批准药物 | RegulatoryAgency → Chemical | 否 | FDA approves Drug_X |
| `results_in` | 申报导致批准 | Submission → Approval | 否 | NDA_123 results_in Approval_456 |

---

### 4.2 不良事件关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `associated_with` | 事件与药物相关 | AdverseEvent → Chemical | 否 | Rash associated_with Drug_X |
| `reported_by` | 事件由某人报告 | AdverseEvent → String | 否 | Event_01 reported_by Physician_A |
| `reports_to` | 事件报告给机构 | AdverseEvent → RegulatoryAgency | 否 | Event_01 reports_to FDA |
| `assessed_severity` | 事件严重程度评估 | AdverseEvent → String | 否 | Event_01 assessed_severity "severe" |

---

## 五、商业实体关系

### 5.1 市场与定价关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `available_in` | 药物在市场上市 | Chemical → Market | 否 | Drug_X available_in US_Market |
| `priced_at` | 药物定价 | Chemical → Pricing | 否 | Drug_X priced_at Price_01 |
| `reimbursed_under` | 药物报销政策 | Chemical → Reimbursement | 否 | Drug_X reimbursed_under Policy_A |

---

### 5.2 销售关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `sells` | 企业销售药物 | Manufacturer → Chemical | 否 | Pfizer sells Viagra |
| `has_sales` | 药物有销售数据 | Chemical → Sales | 否 | Drug_X has_sales Sales_2023 |
| `sold_in_market` | 销售发生在市场 | Sales → Market | 否 | Sales_2023 sold_in_market Europe |

---

## 六、跨领域关系

### 6.1 疾病相关关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `has_phenotype` | 疾病有表型 | Disease → Phenotype | 否 | Diabetes has_phenotype Hyperglycemia |
| `presents_with` | 疾病表现为症状 | Disease → Symptom | 否 | Migraine presents_with Headache |
| `comorbid_with` | 疾病共病 | Disease → Disease | 是 | Diabetes comorbid_with Hypertension |
| `overlaps_with` | 疾病重叠 | Disease → Disease | 否 | Disease_A overlaps_with Disease_B |

---

### 6.2 表型关系

| 关系 | 定义 | 方向 | 传递性 | 示例 |
|-----|------|------|-------|------|
| `symptom_of` | 症状属于疾病 | Symptom → Disease | 否 | Fever symptom_of Infection |
| `phenotype_of` | 表型属于疾病 | Phenotype → Disease | 否 | Hyperglycemia phenotype_of Diabetes |

---

## 七、关系约束定义

### 7.1 基数性约束

| 关系 | 主体的最小/最大值 | 客体的最小/最大值 |
|-----|------------------|------------------|
| `treats` | 0..* | 0..* |
| `binds_to` | 0..* | 0..* |
| `manufactures` | 0..* | 0..* |
| `approves` | 1..* | 0..* |
| `has_disease` | 0..1 | 0..* |

### 7.2 传递性定义

**传递性关系** (可以推理):
- `regulates_pathway`
- `upstream_of`
- `comorbid_with`

**非传递性关系** (不能直接推理):
- `binds_to`
- `treats`
- `inhibits`

### 7.3 对称性定义

**对称关系**:
- `comorbid_with`
- `overlaps_with`
- `compares_to`

**非对称关系**:
- `treats`
- `manufactures`
- `approves`

---

## 八、Biolink Model标准谓词映射

| 自定义谓词 | Biolink对应谓词 | 说明 |
|----------|----------------|------|
| `treats` | `treats` | 直接采用 |
| `prevents` | `prevents` | 直接采用 |
| `causes` | `causes` | 直接采用 |
| `binds_to` | `molecularly_interacts_with` | Biolink更通用 |
| `inhibits` | `decreases_activity_of` | Biolink更通用 |
| `activates` | `increases_activity_of` | Biolink更通用 |
| `participates_in` | `participates_in` | 直接采用 |

---

## 九、关系示例三元组

```
# 药物-靶点关系
(CHEBI:15365)-[binds_to]->(UniProt:P23219)
(PubChem CID:3302)-[inhibits]->(UniProt:P35354)

# 药物-疾病关系
(RxNorm:1191)-[treats]->(MONDO:0002020)
(ChEMBL:2106158)-[investigated_for]->(MONDO:0004975)

# 临床试验关系
(NCT00001234)-[investigates]->(DOID:9351)
(NCT00001234)-[tests]->(ChEMBL:1200)

# 生产关系
(Pfizer)-[manufactures]->(RxNorm:3456)
(Supplier_X)-[supplies_to]->(Pfizer)

# 监管关系
(FDA)-[approves]->(RxNorm:3456)
(NDA_123456)-[submits_for]->(RxNorm:3456)
```

---

## 十、推理规则示例

```sparql
# 传递性推理：如果A regulates_pathway B，B regulates_pathway C，则A regulates_pathway C
IF ?a regulates_pathway ?b AND ?b regulates_pathway ?c
THEN ?a regulates_pathway ?c

# 共病推理：如果A comorbid_with B，则B comorbid_with A
IF ?a comorbid_with ?b
THEN ?b comorbid_with ?a

# 药物类别推理：如果药物A抑制靶点X，靶点X参与通路P，则药物A可能影响通路P
IF ?drug inhibits ?target AND ?target participates_in ?pathway
THEN ?drug may_affect ?pathway
```

---

*文档版本: v1.0*
*创建日期: 2026-02-04*
