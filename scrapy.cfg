# Automatically created by Scrapy project settings

[settings]
default = nmpa.settings

# NMPA Spider Settings
BOT_NAME = NMPA-Spider
USER_AGENT = Mozilla/5.0 (compatible; NMPA-Spider/1.0; +scrapy@nmpa.gov.cn)
DOWNLOAD_DELAY = 2
TELNETCONV_TIMEOUT = 30
CONCURRENT_REQUESTS = 16
RETRY_TIMES = 3

# 机器人设置
COOKIES_ENABLED = False
ROBOTSTXT_OBEY = True
LOG_LEVEL = INFO

# 数据存储
DATA_DIR = ./data/sources/regulations/nmpa
LOG_FILE = ./data/sources/regulations/nmpa/crawl.log

# 增量更新设置
LOOKBACK_DAYS = 30
ENABLED_UP = True
DUPEFILTER_ENABLED = True
DUPEFILTER_LOG = ./data/sources/regulations/nmpa/duplicates.log

# Redis设置（用于去重，可选）
REDIS_ENABLED = False
REDIS_HOST = localhost
REDIS_PORT = 6379
REDIS_DB = 0

[nmpa_list]
# 遵守NMPA robots.txt的URL前缀模式
ALLOWED_DOMAINS = nmpa.gov.cn

# 起始页列表
START_URLS = [
    https://www.nmpa.gov.cn/directory/local/warea8b0c752b936f80282a37a.html
]
